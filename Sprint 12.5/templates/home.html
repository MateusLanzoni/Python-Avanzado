{% extends "base.html" %}

{% block title %}Inicio - Clínica Veterinaria{% endblock %}

{% block content %}
<!-- Hero Section with Particles -->
<div class="hero-section position-relative overflow-hidden">
    <div class="hero-particles"></div>
    <div class="container text-center position-relative">
        <div class="hero-content animate-on-scroll" data-animation="fadeInUp">
            <div class="hero-icon mb-4">
                <i class="fas fa-heartbeat"></i>
            </div>
            <h1 class="display-4 mb-3 fw-bold">
                Clínica Veterinaria
            </h1>
            <p class="lead mb-2">Cuidamos a tus mascotas con amor y profesionalismo</p>
            <p class="hero-subtitle mb-4">Sistema integral de gestión veterinaria para el cuidado completo de tu mascota</p>
            
            <div class="hero-buttons">
                {% if user.is_authenticated %}
                    <a href="{% url 'mascotas_lista' %}" class="btn btn-light btn-lg me-3 btn-modern">
                        <i class="fas fa-paw"></i> Ver Mascotas
                    </a>
                    <a href="{% url 'citas_lista' %}" class="btn btn-outline-light btn-lg btn-modern">
                        <i class="fas fa-calendar-alt"></i> Agendar Cita
                    </a>
                {% else %}
                    <a href="{% url 'login' %}" class="btn btn-light btn-lg me-3 btn-modern">
                        <i class="fas fa-sign-in-alt"></i> Iniciar Sesión
                    </a>
                    <a href="{% url 'register' %}" class="btn btn-outline-light btn-lg btn-modern">
                        <i class="fas fa-user-plus"></i> Registrarse
                    </a>
                {% endif %}
            </div>
        </div>
    </div>
    
    <!-- Hero Wave -->
    <div class="hero-wave">
        <svg viewBox="0 0 1200 120" preserveAspectRatio="none">
            <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z"></path>
        </svg>
    </div>
</div>

<!-- Authentication Status with improved design -->
<div class="container my-5">
    {% if user.is_authenticated %}
        <div class="status-card success-card animate-on-scroll" data-animation="fadeInLeft">
            <div class="status-icon">
                <i class="fas fa-user-check"></i>
            </div>
            <div class="status-content">
                <h4>¡Bienvenido, {{ user.username }}!</h4>
                <p>Tienes acceso completo a todas las funcionalidades del sistema.</p>
                <div class="status-actions">
                    <a href="{% url 'mascotas_lista' %}" class="btn btn-success btn-sm">
                        <i class="fas fa-paw"></i> Mis Mascotas
                    </a>
                    <a href="{% url 'citas_lista' %}" class="btn btn-outline-success btn-sm">
                        <i class="fas fa-calendar"></i> Mis Citas
                    </a>
                </div>
            </div>
        </div>
    {% else %}
        <div class="status-card info-card animate-on-scroll" data-animation="fadeInRight">
            <div class="status-icon">
                <i class="fas fa-info-circle"></i>
            </div>
            <div class="status-content">
                <h4>Acceso de Invitado</h4>
                <p>Para acceder a las funciones de gestión, por favor inicia sesión o regístrate.</p>
                <div class="status-actions">
                    <a href="{% url 'login' %}" class="btn btn-primary btn-sm">
                        <i class="fas fa-sign-in-alt"></i> Iniciar Sesión
                    </a>
                    <a href="{% url 'register' %}" class="btn btn-outline-primary btn-sm">
                        <i class="fas fa-user-plus"></i> Crear Cuenta
                    </a>
                </div>
            </div>
        </div>
    {% endif %}
</div>

<!-- Features Section with enhanced animations -->
<div class="container features-section">
    <div class="text-center mb-5 animate-on-scroll" data-animation="fadeInUp">
        <h2 class="section-title">Nuestros Servicios</h2>
        <p class="section-subtitle">Gestión completa y profesional para tu clínica veterinaria</p>
    </div>
    
    <div class="row g-4">
        <div class="col-lg-4 col-md-6">
            <div class="feature-box modern-card animate-on-scroll" data-animation="fadeInUp" data-delay="100">
                <div class="feature-icon primary">
                    <i class="fas fa-users"></i>
                </div>
                <h4>Gestión de Clientes</h4>
                <p>Administra información de propietarios y sus mascotas de manera eficiente y organizada.</p>
                <div class="feature-stats">
                    <small class="text-muted"><i class="fas fa-check-circle text-success"></i> Gestión completa</small>
                </div>
                <a href="{% url 'propietarios_lista' %}" class="btn btn-primary btn-feature">
                    <i class="fas fa-arrow-right"></i> Ver Propietarios
                </a>
            </div>
        </div>
        
        <div class="col-lg-4 col-md-6">
            <div class="feature-box modern-card animate-on-scroll" data-animation="fadeInUp" data-delay="200">
                <div class="feature-icon success">
                    <i class="fas fa-pills"></i>
                </div>
                <h4>Control de Medicamentos</h4>
                <p>Gestiona el inventario de medicamentos con control de vencimiento y alertas de stock.</p>
                <div class="feature-stats">
                    <small class="text-muted"><i class="fas fa-clock text-warning"></i> Control de vencimiento</small>
                </div>
                <a href="{% url 'medicamentos_lista' %}" class="btn btn-success btn-feature">
                    <i class="fas fa-arrow-right"></i> Ver Medicamentos
                </a>
            </div>
        </div>
        
        <div class="col-lg-4 col-md-6">
            <div class="feature-box modern-card animate-on-scroll" data-animation="fadeInUp" data-delay="300">
                <div class="feature-icon danger">
                    <i class="fas fa-procedures"></i>
                </div>
                <h4>Cirugías Programadas</h4>
                <p>Programa y da seguimiento a cirugías veterinarias con control de estados.</p>
                <div class="feature-stats">
                    <small class="text-muted"><i class="fas fa-shield-alt text-info"></i> Seguimiento seguro</small>
                </div>
                <a href="{% url 'cirugias_lista' %}" class="btn btn-danger btn-feature">
                    <i class="fas fa-arrow-right"></i> Ver Cirugías
                </a>
            </div>
        </div>
        
        <div class="col-lg-4 col-md-6">
            <div class="feature-box modern-card animate-on-scroll" data-animation="fadeInUp" data-delay="400">
                <div class="feature-icon info">
                    <i class="fas fa-user-md"></i>
                </div>
                <h4>Equipo Veterinario</h4>
                <p>Gestiona la información de veterinarios y sus especialidades.</p>
                <div class="feature-stats">
                    <small class="text-muted"><i class="fas fa-star text-warning"></i> Profesionales certificados</small>
                </div>
                <a href="{% url 'veterinarios_lista' %}" class="btn btn-info btn-feature">
                    <i class="fas fa-arrow-right"></i> Ver Veterinarios
                </a>
            </div>
        </div>
        
        <div class="col-lg-4 col-md-6">
            <div class="feature-box modern-card animate-on-scroll" data-animation="fadeInUp" data-delay="500">
                <div class="feature-icon warning">
                    <i class="fas fa-clipboard-list"></i>
                </div>
                <h4>Consultas Médicas</h4>
                <p>Registra bitácoras detalladas de consultas, diagnósticos y tratamientos.</p>
                <div class="feature-stats">
                    <small class="text-muted"><i class="fas fa-history text-primary"></i> Historial completo</small>
                </div>
                <a href="{% url 'bitacoras_lista' %}" class="btn btn-warning btn-feature">
                    <i class="fas fa-arrow-right"></i> Ver Consultas
                </a>
            </div>
        </div>
        
        <div class="col-lg-4 col-md-6">
            <div class="feature-box modern-card animate-on-scroll" data-animation="fadeInUp" data-delay="600">
                <div class="feature-icon secondary">
                    <i class="fas fa-file-medical-alt"></i>
                </div>
                <h4>Historia Clínica</h4>
                <p>Accede al historial médico completo de cada mascota de forma organizada.</p>
                <div class="feature-stats">
                    <small class="text-muted"><i class="fas fa-database text-success"></i> Base de datos segura</small>
                </div>
                <a href="{% url 'mascotas_lista' %}" class="btn btn-secondary btn-feature">
                    <i class="fas fa-arrow-right"></i> Ver Mascotas
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Enhanced Stats Section -->
<div class="stats-section">
    <div class="container">
        <div class="row text-center">
            <div class="col-12 mb-5 animate-on-scroll" data-animation="fadeInUp">
                <h3 class="section-title text-white">¿Por qué elegir nuestro sistema?</h3>
                <p class="section-subtitle text-white-50">Funcionalidades diseñadas para optimizar tu clínica veterinaria</p>
            </div>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-3 col-md-6">
                <div class="stat-card animate-on-scroll" data-animation="fadeInUp" data-delay="100">
                    <div class="stat-icon text-success">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h5 class="text-white">Seguro y Confiable</h5>
                    <p class="text-white-50">Sistema con validaciones y respaldos automáticos para proteger tus datos</p>
                    <div class="stat-number">99.9%</div>
                    <small class="text-success">Uptime garantizado</small>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6">
                <div class="stat-card animate-on-scroll" data-animation="fadeInUp" data-delay="200">
                    <div class="stat-icon text-info">
                        <i class="fas fa-download"></i>
                    </div>
                    <h5 class="text-white">Exportación CSV</h5>
                    <p class="text-white-50">Exporta datos para reportes externos y análisis detallados</p>
                    <div class="stat-number">100+</div>
                    <small class="text-info">Formatos disponibles</small>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6">
                <div class="stat-card animate-on-scroll" data-animation="fadeInUp" data-delay="300">
                    <div class="stat-icon text-warning">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <h5 class="text-white">Diseño Responsivo</h5>
                    <p class="text-white-50">Accede desde cualquier dispositivo con la misma experiencia</p>
                    <div class="stat-number">100%</div>
                    <small class="text-warning">Responsive</small>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6">
                <div class="stat-card animate-on-scroll" data-animation="fadeInUp" data-delay="400">
                    <div class="stat-icon text-primary">
                        <i class="fas fa-clock"></i>
                    </div>
                    <h5 class="text-white">Disponible 24/7</h5>
                    <p class="text-white-50">Sistema disponible en todo momento para emergencias</p>
                    <div class="stat-number">24/7</div>
                    <small class="text-primary">Soporte continuo</small>
                </div>
            </div>
        </div>
        
        <!-- Call to Action -->
        <div class="row mt-5">
            <div class="col-12 text-center animate-on-scroll" data-animation="fadeInUp" data-delay="500">
                {% if not user.is_authenticated %}
                    <div class="cta-section">
                        <h4 class="text-white mb-3">¿Listo para comenzar?</h4>
                        <p class="text-white-50 mb-4">Únete a cientos de veterinarios que ya confían en nuestro sistema</p>
                        <a href="{% url 'register' %}" class="btn btn-light btn-lg me-3 btn-modern">
                            <i class="fas fa-rocket"></i> Comenzar Ahora
                        </a>
                        <a href="{% url 'login' %}" class="btn btn-outline-light btn-lg btn-modern">
                            <i class="fas fa-sign-in-alt"></i> Ya tengo cuenta
                        </a>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<!-- Additional JavaScript for animations -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Intersection Observer for scroll animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const element = entry.target;
                const animation = element.dataset.animation || 'fadeInUp';
                const delay = element.dataset.delay || 0;
                
                setTimeout(() => {
                    element.style.animation = `${animation} 0.6s ease-out forwards`;
                    element.style.opacity = '1';
                    element.style.transform = 'translateY(0)';
                }, delay);
                
                observer.unobserve(element);
            }
        });
    }, observerOptions);

    // Observe all animate-on-scroll elements
    document.querySelectorAll('.animate-on-scroll').forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(30px)';
        observer.observe(el);
    });

    // Counter animation for stats
    function animateCounters() {
        const counters = document.querySelectorAll('.stat-number');
        counters.forEach(counter => {
            const target = parseInt(counter.textContent.replace(/[^\d]/g, ''));
            const duration = 2000;
            const step = target / (duration / 16);
            let current = 0;
            
            const timer = setInterval(() => {
                current += step;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }
                
                if (counter.textContent.includes('%')) {
                    counter.textContent = Math.floor(current) + '%';
                } else if (counter.textContent.includes('/')) {
                    counter.textContent = '24/7';
                } else {
                    counter.textContent = Math.floor(current) + '+';
                }
            }, 16);
        });
    }

    // Trigger counter animation when stats section is visible
    const statsSection = document.querySelector('.stats-section');
    if (statsSection) {
        const statsObserver = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    animateCounters();
                    statsObserver.unobserve(entry.target);
                }
            });
        }, { threshold: 0.3 });
        
        statsObserver.observe(statsSection);
    }
});
</script>
{% endblock %}
